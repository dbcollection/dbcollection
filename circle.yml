machine:
  python:
    version: 3.5.1

checkout:
    post:
        # since circleci does a shallow fetch
        # we need to populate our tags
        - git fetch --depth=1000

dependencies:
  override:
    - pip install --upgrade pip
    - pip install -U tox
    - pip --version
    - tox --version
    - pip install tox-pyenv
    - pyenv local 3.4.3 3.5.1

test:
  override:
    - tox

general:
  branches:
    only:
      - master
      - add_travis_build